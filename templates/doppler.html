{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Doppler Effect Simulation</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{% static 'styles/doppler.css' %}" />
  </head>
  <body>
    <!-- Navbar -->
    {% include 'components/navigator.html' %}

    <!-- Main Container -->
    <div class="container text-center">
      <h2>Doppler Effect Simulation</h2>
      <p>
        Configure the simulation parameters and click Simulate to generate the
        Doppler effect visualization.
      </p>

      <div class="input-group-custom">
        <div>
          <label>Frequency (Hz):</label>
          <input type="number" id="frequency" value="440" />
        </div>
        <div>
          <label>Velocity (m/s):</label>
          <input type="number" id="velocity" value="10" />
        </div>
        <div>
          <label>Duration (s):</label>
          <input type="number" id="duration" value="5" />
        </div>
      </div>

      <!-- New Sampling Frequency Slider -->
      <div class="input-group-custom mt-3">
        <div class="w-100">
          <label for="samplingRate">Sampling Frequency (Hz):</label>
          <div class="d-flex align-items-center">
            <input
              type="range"
              class="form-range me-3"
              id="samplingRate"
              min="4000"
              max="48000"
              step="1000"
              value="8000"
            />
            <span id="samplingRateValue" class="badge bg-primary">8000 Hz</span>
          </div>
          <small class="text-muted"
            >Adjust audio quality (4000 Hz - 48000 Hz)</small
          >
        </div>
      </div>

      <div class="button-container">
        <button id="simulateBtn" class="btn btn-custom">Simulate</button>
      </div>

      <audio id="audioPlayer" controls></audio>

      <canvas id="ampChart"></canvas>
      <canvas id="freqChart"></canvas>

      <div id="results"></div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/doppler.js' %}"></script>
  </body>
</html>
